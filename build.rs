extern crate gcc;

use std::process::Command;

fn main() {
    gcc::Config::new()
                .file("Asm/libftprintf/uc_to_str.c")
                .file("Asm/libftprintf/stock_n.c")
                .file("Asm/libftprintf/reset_tab.c")
                .file("Asm/libftprintf/printf_normal_string.c")
                .file("Asm/libftprintf/print_unicode_string.c")
                .file("Asm/libftprintf/print_unicode_char.c")
                .file("Asm/libftprintf/print_str_tab.c")
                .file("Asm/libftprintf/print_pointer.c")
                .file("Asm/libftprintf/print_normal_integer.c")
                .file("Asm/libftprintf/print_normal_char.c")
                .file("Asm/libftprintf/print_int_tab.c")
                .file("Asm/libftprintf/print_char.c")
                .file("Asm/libftprintf/print_binary.c")
                .file("Asm/libftprintf/parsing.c")
                .file("Asm/libftprintf/itoa_base.c")
                .file("Asm/libftprintf/init_t_flag.c")
                .file("Asm/libftprintf/get_unicode_len.c")
                .file("Asm/libftprintf/get_type.c")
                .file("Asm/libftprintf/get_sub_specifier.c")
                .file("Asm/libftprintf/get_spe_flags.c")
                .file("Asm/libftprintf/get_sign.c")
                .file("Asm/libftprintf/get_next_line.c")
                .file("Asm/libftprintf/get_nb_min_char.c")
                .file("Asm/libftprintf/get_flags.c")
                .file("Asm/libftprintf/get_ansi_code.c")
                .file("Asm/libftprintf/ftprintf_strndup.c")
                .file("Asm/libftprintf/ftprintf_strncpy_cat.c")
                .file("Asm/libftprintf/ftprintf_strjoin.c")
                .file("Asm/libftprintf/ft_toupper.c")
                .file("Asm/libftprintf/ft_tolower.c")
                .file("Asm/libftprintf/ft_strxlen.c")
                .file("Asm/libftprintf/ft_strxdup.c")
                .file("Asm/libftprintf/ft_strxcmp.c")
                .file("Asm/libftprintf/ft_strtrim.c")
                .file("Asm/libftprintf/ft_strsub.c")
                .file("Asm/libftprintf/ft_strstr.c")
                .file("Asm/libftprintf/ft_strsplit.c")
                .file("Asm/libftprintf/ft_strrev.c")
                .file("Asm/libftprintf/ft_strrepl.c")
                .file("Asm/libftprintf/ft_strrchr.c")
                .file("Asm/libftprintf/ft_strnstr.c")
                .file("Asm/libftprintf/ft_strnocasencmp.c")
                .file("Asm/libftprintf/ft_strnocasecmp.c")
                .file("Asm/libftprintf/ft_strnmchr.c")
                .file("Asm/libftprintf/ft_strnjoin.c")
                .file("Asm/libftprintf/ft_strnew.c")
                .file("Asm/libftprintf/ft_strnequ.c")
                .file("Asm/libftprintf/ft_strndup.c")
                .file("Asm/libftprintf/ft_strncpy.c")
                .file("Asm/libftprintf/ft_strncmp.c")
                .file("Asm/libftprintf/ft_strncat.c")
                .file("Asm/libftprintf/ft_strmxlen.c")
                .file("Asm/libftprintf/ft_strmrepl.c")
                .file("Asm/libftprintf/ft_strmchr.c")
                .file("Asm/libftprintf/ft_strmapi.c")
                .file("Asm/libftprintf/ft_strmap.c")
                .file("Asm/libftprintf/ft_strlen.c")
                .file("Asm/libftprintf/ft_strlcat.c")
                .file("Asm/libftprintf/ft_strjoinsep_and_free.c")
                .file("Asm/libftprintf/ft_strjoinsep.c")
                .file("Asm/libftprintf/ft_strjoin_and_free.c")
                .file("Asm/libftprintf/ft_strjoin.c")
                .file("Asm/libftprintf/ft_striteri.c")
                .file("Asm/libftprintf/ft_striter.c")
                .file("Asm/libftprintf/ft_strequ.c")
                .file("Asm/libftprintf/ft_strdup.c")
                .file("Asm/libftprintf/ft_strdel.c")
                .file("Asm/libftprintf/ft_strcpy.c")
                .file("Asm/libftprintf/ft_strcmp.c")
                .file("Asm/libftprintf/ft_strclr.c")
                .file("Asm/libftprintf/ft_strchr.c")
                .file("Asm/libftprintf/ft_strcat.c")
                .file("Asm/libftprintf/ft_sqrt.c")
                .file("Asm/libftprintf/ft_screenclr.c")
                .file("Asm/libftprintf/ft_putstr.c")
                .file("Asm/libftprintf/ft_putendl.c")
                .file("Asm/libftprintf/ft_printf_fd.c")
                .file("Asm/libftprintf/ft_printf.c")
                .file("Asm/libftprintf/ft_memset.c")
                .file("Asm/libftprintf/ft_memmove.c")
                .file("Asm/libftprintf/ft_memdel.c")
                .file("Asm/libftprintf/ft_memcpy.c")
                .file("Asm/libftprintf/ft_memcmp.c")
                .file("Asm/libftprintf/ft_memchr.c")
                .file("Asm/libftprintf/ft_memccpy.c")
                .file("Asm/libftprintf/ft_memalloc.c")
                .file("Asm/libftprintf/ft_malloc_error.c")
                .file("Asm/libftprintf/ft_lstpush.c")
                .file("Asm/libftprintf/ft_lstnew.c")
                .file("Asm/libftprintf/ft_lstmap.c")
                .file("Asm/libftprintf/ft_lstiter.c")
                .file("Asm/libftprintf/ft_lstdelone.c")
                .file("Asm/libftprintf/ft_lstdel.c")
                .file("Asm/libftprintf/ft_lstcswap.c")
                .file("Asm/libftprintf/ft_lstadd.c")
                .file("Asm/libftprintf/ft_itoa.c")
                .file("Asm/libftprintf/ft_isxdigit.c")
                .file("Asm/libftprintf/ft_isupper.c")
                .file("Asm/libftprintf/ft_isspace.c")
                .file("Asm/libftprintf/ft_ispunct.c")
                .file("Asm/libftprintf/ft_isprint.c")
                .file("Asm/libftprintf/ft_islower.c")
                .file("Asm/libftprintf/ft_isgraph.c")
                .file("Asm/libftprintf/ft_isdigit.c")
                .file("Asm/libftprintf/ft_iscntrl.c")
                .file("Asm/libftprintf/ft_isblank.c")
                .file("Asm/libftprintf/ft_isascii.c")
                .file("Asm/libftprintf/ft_isalpha.c")
                .file("Asm/libftprintf/ft_isalnum.c")
                .file("Asm/libftprintf/ft_is_str_space.c")
                .file("Asm/libftprintf/ft_is_str_digit.c")
                .file("Asm/libftprintf/ft_fctrl.c")
                .file("Asm/libftprintf/ft_error.c")
                .file("Asm/libftprintf/ft_bzero.c")
                .file("Asm/libftprintf/ft_atoi.c")
                .file("Asm/libftprintf/display_var.c")
                .file("Asm/libftprintf/display.c")
                .file("Asm/libftprintf/check_parsing.c")
                .file("Asm/libftprintf/cast_normal_integer.c")
                .file("Asm/libftprintf/byte_swap.c")
                .file("Asm/libftprintf/bufferujoin.c")
                .file("Asm/libftprintf/bufferjoin.c")
                .file("Asm/libftprintf/apply_spe.c")
                .file("Asm/libftprintf/apply_fg.c")
                .file("Asm/libftprintf/apply_bg.c")
                .include("Asm/libftprintf/")
                .compile("libftprintf.a");

    gcc::Config::new()
                .flag("-Wall")
                .flag("-Wextra")
                .flag("-Werror")
                .file("Asm/add_file_content_line.c")
                .file("Asm/add_label_to_list.c")
//                .file("Asm/asm.c")
                .file("Asm/assemble.c")
                .file("Asm/check_args.c")
                .file("Asm/check_comment.c")
                .file("Asm/check_forbidden_characters.c")
                .file("Asm/check_instruction_label.c")
                .file("Asm/check_instruction_line.c")
                .file("Asm/check_instructions.c")
                .file("Asm/check_name.c")
                .file("Asm/create_asm_file.c")
                .file("Asm/create_cor_file.c")
                .file("Asm/create_lst_instruction.c")
//                .file("Asm/create_lst_label.c")
                .file("Asm/cut_comment_and_check_syntax.c")
                .file("Asm/cut_name_and_check_syntax.c")
                .file("Asm/delete_label_list.c")
                .file("Asm/disassemble.c")
                .file("Asm/display_comment_definition_error.c")
                .file("Asm/display_error.c")
                .file("Asm/display_error_line.c")
                .file("Asm/display_instruction_error.c")
                .file("Asm/display_label_error.c")
                .file("Asm/display_name_definition_error.c")
                .file("Asm/display_success.c")
                .file("Asm/display_usage.c")
                .file("Asm/does_instruction_exist.c")
                .file("Asm/free_file_content.c")
                .file("Asm/free_list.c")
                .file("Asm/get_asm_body.c")
                .file("Asm/get_number_of_arg.c")
                .file("Asm/get_shorten_len.c")
                .file("Asm/is_a_cor_file.c")
                .file("Asm/is_a_s_file.c")
                .file("Asm/is_file_valid.c")
                .file("Asm/is_instruction_label.c")
                .file("Asm/is_only_flags_or_nothing.c")
                .file("Asm/label_already_exist.c")
                .file("Asm/line_has_comment.c")
                .file("Asm/line_starts_with_comment.c")
                .file("Asm/op.c")
                .file("Asm/read_fixed_param_type.c")
//                .file("Asm/read_format.c")
//                .file("Asm/read_op_code.c")
                .file("Asm/read_param_type.c")
                .file("Asm/read_param_value.c")
                .file("Asm/remove_comment_from_content_file.c")
//                .file("Asm/remove_comment_from_file_content.c")
                .file("Asm/remove_comment_from_line.c")
                .file("Asm/remove_name_from_content_file.c")
                .file("Asm/remove_name_from_file_content.c")
                .file("Asm/reset_data_struct.c")
                .file("Asm/stock_comment.c")
                .file("Asm/stock_file_content.c")
                .file("Asm/stock_name.c")
                .file("Asm/was_already_called.c")
//                .file("Asm/write_asm_body.c")
//                .file("Asm/write_asm_header.c")
                .file("Asm/write_asm_param.c")
                .file("Asm/write_cor_header.c")
                .include("Asm/")
                .include("Asm/libftprintf/")
                .compile("libasm.a");

    Command::new("make").args(&["-C", "Asm"]).status().unwrap();
}
